# Telegram Format Test Cases
# Tests response quality and format for Telegram bot
# Coverage: 8 test cases

# =============================================================================
# CONCISENESS TESTS (3 tests)
# =============================================================================

- description: "Concise response - factual question"
  vars:
    platform: "telegram"
    query: "What is the capital of France?"
  assert:
    - type: llm-rubric
      value: "Response is extremely concise (1-3 words ideally). No filler phrases like 'Sure!' or 'Great question!'"

- description: "Concise response - code snippet"
  vars:
    platform: "telegram"
    query: "How do I reverse a string in Python?"
  assert:
    - type: llm-rubric
      value: "Response provides code directly without lengthy explanation. Uses inline code formatting."

- description: "Concise response - explanation"
  vars:
    platform: "telegram"
    query: "What is Docker?"
  assert:
    - type: llm-rubric
      value: "Response is 1-2 sentences maximum. No lengthy introductions or filler phrases."

# =============================================================================
# CODE FORMATTING TESTS (3 tests)
# =============================================================================

- description: "Code formatting - inline code"
  vars:
    platform: "telegram"
    query: "What command lists files in a directory?"
  assert:
    - type: contains
      value: "`"
    - type: llm-rubric
      value: "Uses inline code formatting (backticks) for the command"

- description: "Code formatting - code block"
  vars:
    platform: "telegram"
    query: "Show me a Python function to calculate factorial"
  assert:
    - type: contains
      value: "```"
    - type: llm-rubric
      value: "Uses code block with language identifier for multi-line code"

- description: "Code formatting - language specified"
  vars:
    platform: "telegram"
    query: "Write a TypeScript interface for a User"
  assert:
    - type: contains-any
      value:
        - "```typescript"
        - "```ts"
    - type: llm-rubric
      value: "Code block specifies the language (typescript or ts)"

# =============================================================================
# NO FILLER TESTS (2 tests)
# =============================================================================

- description: "No filler - direct answer"
  vars:
    platform: "telegram"
    query: "What is 15 times 23?"
  assert:
    - type: not-contains
      value: "Sure"
    - type: not-contains
      value: "Great question"
    - type: llm-rubric
      value: "Response starts directly with the answer, no filler phrases"

- description: "No filler - list response"
  vars:
    platform: "telegram"
    query: "List 3 JavaScript frameworks"
  assert:
    - type: not-contains
      value: "Here are"
    - type: llm-rubric
      value: "Lists items directly without introductory phrases like 'Here are' or 'The frameworks are'"
